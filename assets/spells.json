{
  "spell_recipes": [
    {
      "spell_id": "portal_homeward",
      "display_name": "Homeward Portal",
      "spell_type": "portal",
      "incantation_style": "spoken_softly",
      "incantation": {
        "meter": "rhymed_couplet",
        "form": "couplets",
        "style_flag": "knittel_like",
        "masculine_or_feminine_endings_ok": true,
        "lines": [
          "Mirror bright, remember home,",
          "Crystal hums\u2014no need to roam.",
          "Edges thin where waters fall,",
          "Step, then laugh\u2014that's all, that's all."
        ],
        "rhyme_intent": "couplet_rhyme",
        "delivery": null
      },
      "narrative_purpose": "Create a portal back to the cottage from a thin place.",
      "target_need": "Permission to return safely",
      "place_affinity": [
        "forest_waterfall",
        "meadow_shrine",
        "beach_tidepools"
      ],
      "element_affinity": [
        "water"
      ],
      "ingredients": [
        {
          "ingredient_ref": "mirror",
          "symbolic_role": "bridge",
          "place_requirement": null
        },
        {
          "ingredient_ref": "any:item_type=Crystal&usable_in=portal",
          "symbolic_role": "focus",
          "place_requirement": null
        }
      ],
      "ritual_steps": [
        "Hold the mirror upright until it catches a clean line of light.",
        "Press the crystal to the mirror's edge and listen for the faint hum.",
        "Speak the incantation once, then trace a small circle in the air with the mirror.",
        "Step through when the air brightens and the edges feel thin."
      ],
      "tone": "playful",
      "repeatable": "Always",
      "cooldown_hint": null,
      "output": {
        "type": "place_shift",
        "effect_summary": "Opens a portal that returns the player to the Cottage.",
        "state_changes": {
          "destination_place_id": "cottage_home",
          "closes_on_arrival": true,
          "consumes": [
            "any:item_type=Crystal&usable_in=portal"
          ],
          "requires_threshold": true
        }
      },
      "notes": "Portal casting is only allowed at threshold places; town locations are excluded by traversal rules."
    }
  ]
}
